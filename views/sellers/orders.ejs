<% layout("/layouts/boilerplate") -%>
<div class="d-flex justify-content-center mt-5 mb-5">
    <h1>Orders</h1>
</div>
<div class="col-10 offset-1">
    <div class="d-flex justify-content-center flex-column gap-3 mt-5 mb-5">
        <% let cnt = 0 %>
        <% if(seller.orders.length > 0) {%>
        <% for(let order of seller.orders){ %>
            <% cnt = cnt+1 %>
        <div class="card ps-2 pe-2" style="height: 6rem;">
            <div class="card-body d-flex align-items-center justify-content-between flex-wrap gap-2">
                <h2><%= cnt %></h2>
                <% let color = "text-warning" %>
                <% if(order.status == "delivered"){
                    color = "text-success"
                }else if(order.status == "shipped"){
                    color = "text-primary"
                }else if(order.status == "cancelled"){
                    color = "text-danger"
                } %>
                <p><strong>Status : </strong><p class="<%= color %> fw-semibold"><%=order.status%></p></p>
                <p><strong>Date : </strong><%=order.orderedAt%></p>
                <p><strong>amount : </strong><%=order.totalAmount%></p>
                <% if(order.status == "pending"){ %>
                    <a href="/seller/order/<%= order._id %>" class="btn btn-primary">Update status</a>
                <% }else{ %>
                    <button type="button" class="btn btn-primary" disabled>Items Shipped</button>
                <% } %>
            </div>
        </div>
        <% } %>
        <% }else{ %>
            <div class="d-flex justify-content-center">
                <h2 class="text-center card-text">You have no orders!!</h2>
            </div>
        <% } %>
    </div>
</div>